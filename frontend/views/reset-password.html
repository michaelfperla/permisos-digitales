<!-- === Reset Password View Partial (/frontend/views/reset-password.html) === -->
<!-- This HTML fragment is loaded dynamically into the #app-root container by main.js -->

<div class="auth-container">
    <!-- The outer container responsible for centering the card -->

    <div class="auth-card" role="region" aria-labelledby="reset-password-title">
        <!-- The card UI element containing the form -->

        <header class="auth-header">
            <!-- Header section within the card -->
            <img src="/assets/img/logo.svg?v=3.0.0" alt="Permisos Digitales Logo" class="auth-logo">
            <h1 id="reset-password-title">Crear Nueva Contraseña</h1>

            <!-- Error/Success Message Area: Dynamically populated by auth.js -->
            <div id="reset-password-message" class="message" hidden aria-live="assertive">
                <!-- Messages appear here -->
            </div>
        </header>

        <form id="reset-password-form" class="auth-form" novalidate>
            <!-- The form itself. 'novalidate' disables default browser validation -->
            
            <!-- Hidden input for the reset token -->
            <input type="hidden" id="reset-password-token" name="token">

            <div class="form-group">
                <label for="reset-password-new" class="sr-only">Nueva Contraseña</label>
                <div class="input-wrapper password-wrapper">
                    <input type="password" id="reset-password-new" name="password" placeholder="Nueva Contraseña" required autocomplete="new-password" aria-describedby="password-requirements reset-password-message reset-password-new-error">
                    <span class="input-icon" aria-hidden="true">
                        <svg class="icon icon-lock">
                            <use xlink:href="/assets/icons/sprite.svg?v=3.0.0#icon-lock"></use>
                        </svg>
                    </span>
                    <button type="button" id="reset-toggle-password" class="toggle-password" aria-label="Mostrar contraseña" tabindex="-1">
                        <svg class="icon icon-eye">
                            <use xlink:href="/assets/icons/sprite.svg?v=3.0.0#icon-eye"></use>
                        </svg>
                    </button>
                </div>
                <!-- Field-specific error message placeholder -->
                <small id="reset-password-new-error" class="field-error" hidden></small>
                
                <!-- Password requirements hint -->
                <small id="password-requirements" class="form-text text-muted">
                    La contraseña debe tener al menos 8 caracteres.
                </small>
            </div>

            <div class="form-group">
                <label for="reset-password-confirm" class="sr-only">Confirmar Nueva Contraseña</label>
                <div class="input-wrapper password-wrapper">
                    <input type="password" id="reset-password-confirm" name="confirmPassword" placeholder="Confirmar Nueva Contraseña" required autocomplete="new-password" aria-describedby="reset-password-message reset-password-confirm-error">
                    <span class="input-icon" aria-hidden="true">
                        <svg class="icon icon-lock">
                            <use xlink:href="/assets/icons/sprite.svg?v=3.0.0#icon-lock"></use>
                        </svg>
                    </span>
                    <button type="button" id="reset-toggle-confirm-password" class="toggle-password" aria-label="Mostrar contraseña" tabindex="-1">
                        <svg class="icon icon-eye">
                            <use xlink:href="/assets/icons/sprite.svg?v=3.0.0#icon-eye"></use>
                        </svg>
                    </button>
                </div>
                <!-- Field-specific error message placeholder -->
                <small id="reset-password-confirm-error" class="field-error" hidden></small>
            </div>

            <div class="form-actions">
                <!-- Container for the main form action button -->
                <button type="submit" id="reset-password-submit-btn" class="btn btn-primary">
                    <span class="button-text">Guardar Nueva Contraseña</span>
                    <div class="spinner" hidden aria-label="Cargando..."></div>
                </button>
            </div>

            <div class="auth-links">
                <!-- Additional links for navigation -->
                <a href="#/login" class="auth-link">Volver a Iniciar Sesión</a>
            </div>
        </form>
    </div>
</div>
